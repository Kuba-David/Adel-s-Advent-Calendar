<!DOCTYPE html>
<html lang="cs">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <title>Ad√©lƒçin Advent 2025</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Mountains+of+Christmas:wght@400;700&family=Quicksand:wght@400;600&display=swap"
      rel="stylesheet"
    />
    <style>
      /* --- RESET A Z√ÅKLAD --- */
      * {
        box-sizing: border-box;
      }

      body {
        font-family: "Quicksand", sans-serif;
        background-color: #386641;
        margin: 0;
        /* padding: 20px 12px; Men≈°√≠ padding na mobilu */
        min-height: 100dvh;
        display: flex;
        flex-direction: column;
        align-items: center;
      }

      h1 {
        font-family: "Mountains of Christmas", cursive;
        font-weight: 700; /* Tuƒçn√© */
        font-size: 3rem; /* Trochu zvƒõt≈°√≠me */
        letter-spacing: 1px;
        margin: 0 0 8px 0;
        text-align: center;
        color: #f2e8cf;
      }

      p {
        font-family: "Quicksand", sans-serif;
        font-weight: 600; /* Norm√°ln√≠ tlou≈°≈•ka pro text */
        font-size: 1.15rem;
        line-height: 1.4;
        color: #2b5233;
        margin: 0;
      }

      /* --- NOV√â: BANNERY PRO OBR√ÅZKY --- */
      .image-banner {
        width: 100%;
        overflow: hidden;
      }

      .image-banner img {
        width: 100%;
        height: 100%;
        max-height: 180px; /* Maxim√°ln√≠ v√Ω≈°ka na mobilu, a≈• to nezabere cel√Ω displej */
        object-fit: cover; /* O≈ô√≠zne obr√°zek, aby vyplnil prostor */
        display: block;
      }

      .footer-banner {
        margin-bottom: 0;
      }

      /* --- GRID 3x8 (Mobile First) --- */
      .calendar-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr); /* V≈ædy 3 sloupce */
        gap: 12px; /* Mezery mezi boxy */
        width: 100%;
        max-width: 450px; /* Na desktopu to nebude ≈°ir≈°√≠ ne≈æ velk√Ω mobil */
        padding: 20px 12px; /* Men≈°√≠ padding na mobilu */
      }

      /* --- OK√âNKA --- */
      .day-box {
        font-family: "Mountains of Christmas", cursive;
        font-weight: 700;
        font-size: 2rem;
        aspect-ratio: 1 / 1; /* V≈ædy ƒçtverec */
        background: #386641;
        background: linear-gradient(220deg, #386641 0%, #6a994e 100%);
        border-radius: 12px;
        display: flex;
        justify-content: center;
        align-items: center;
        color: #f2e8cf;
        box-shadow: 0 2px 5px #2b5233;
        border: 2px dashed #f2e8cf;
        cursor: pointer;
        transition: transform 0.1s, background-color 0.2s;
        position: relative;
        user-select: none;
        -webkit-tap-highlight-color: transparent;
      }

      .day-box:active {
        transform: scale(0.95);
      }

      /* Stavy ok√©nek */
      .day-box.locked {
        cursor: default;
      }

      .day-box.opened {
        border-color: #a7c957;
        color: #a7c957;
        box-shadow: inset 4px 2px 12px 2px #2b5233;
      }

      /* Indik√°tor, ≈æe je "dne≈°ek" a je≈°tƒõ nen√≠ otev≈ôeno (voliteln√© vylep≈°en√≠) */
      .day-box.today-active {
        animation: pulse 2s infinite;
        border-color: #bc4749;
        color: #bc4749;
      }

      @keyframes pulse {
        0% {
          box-shadow: 0 0 0 0 rgb(188, 71, 73, 0.4);
        }
        70% {
          box-shadow: 0 0 0 10px rgba(188, 71, 73, 0.2);
        }
        100% {
          box-shadow: 0 0 0 0 rgba(188, 71, 73, 0);
        }
      }

      /* --- MOD√ÅLN√ç OKNO (Mobile Optimized) --- */
      .modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: #2b5233b4;
        z-index: 2000;
        padding: 20px;
        justify-content: center;
        align-items: center;
        backdrop-filter: blur(8px);
      }

      .modal-content {
        background: #f2e8cf;
        padding: 24px;
        border-radius: 20px;
        width: 100%;
        max-width: 400px;
        text-align: left;
        position: relative;
        max-height: 90vh;
        overflow-y: auto; /* Kdyby byl text moc dlouh√Ω */
        box-shadow: 0 10px 25px #2b5233b4;
      }

      .close-btn {
        position: absolute;
        top: 10px;
        right: 15px;
        font-family: "Mountains of Christmas", cursive;
        font-weight: 700;
        font-size: 3rem;
        line-height: 0.6;
        color: #bc4749;
        cursor: pointer;
        padding: 5px;
      }

      .modal-img {
        width: 100%;
        height: auto;
        border-radius: 10px;
        margin: 40px 0 24px 0;
        display: block;
      }

      .video-wrapper {
        position: relative;
        padding-bottom: 56.25%; /* 16:9 ratio */
        height: 0;
        margin-bottom: 15px;
        border-radius: 10px;
        overflow: hidden;
        background: #000;
      }

      .video-wrapper iframe {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
      }

      p {
        font-size: 1.1rem;
        line-height: 1.5;
        margin: 0;
      }
    </style>
  </head>
  <body>
    <div class="image-banner header-banner">
      <img src="./images/kal_head.webp" alt="V√°noƒçn√≠ z√°hlav√≠" />
    </div>

    <h1>Pro Ad√©lku</h1>

    <div class="calendar-grid" id="calendar"></div>

    <div class="image-banner footer-banner">
      <img src="./images/kal_foot.webp" alt="V√°noƒçn√≠ z√°pat√≠" />
    </div>

    <div class="modal" id="modal">
      <div class="modal-content">
        <span class="close-btn" onclick="closeModal()">&times;</span>
        <div id="modal-body"></div>
      </div>
    </div>

    <script>
      // --- TVOJE DATA (Zkop√≠ruj sem ten fin√°ln√≠ list objekt≈Ø 1-24) ---
      const adventData = [
        // ... sem vlo≈æ data ...
        {
          day: 1,
          type: "image", // Zmƒõ≈à na 'video' pokud m√°≈° odkaz
          src: "https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExOG84OHRkN2hqbDc3cHg1NnJldXo5YnVvZ2hxZ3d1eWluMGV1NWxpaiZlcD12MV9naWZzX3NlYXJjaCZjdD1n/l29MVhX6iz7dS/giphy.gif", // Sem dej odkaz na obr√°zek/video
          text: "L√°sko moje nejmilovanƒõj≈°√≠,<br>v√≠tej v digit√°ln√≠ verzi na≈°√≠ tradice! Letos jsem musel vymƒõnit skleniƒçky a krabiƒçky za pixely, proto≈æe po≈°ta na Madeiru je s√°zka do loterie. Ale l√°ska (a zvi≈ô√°tka) se do jedniƒçek a nul vejdou taky. ü§≠<br>Tak kr√°sn√Ω, n√°≈° vlastn√≠, advent! ‚ù§Ô∏è",
        },
        {
          day: 2,
          type: "image",
          src: "https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExOG84OHRkN2hqbDc3cHg1NnJldXo5YnVvZ2hxZ3d1eWluMGV1NWxpaiZlcD12MV9naWZzX3NlYXJjaCZjdD1n/RdzzVrtvfqnM4/giphy.gif",
          text: '√öter√Ω je ƒçasto prostƒõ "ten den po pondƒõl√≠", ale ty jsi nejlep≈°ej≈°√≠ beru≈°ka na svƒõtƒõ a tak ho urƒçitƒõ zvl√°dne≈° s p≈ôehledem. A kdyby tƒõ cokoli rozladilo, koukni na ty ko≈•√°tka. ü§≠',
        },
        {
          day: 3,
          type: "image",
          src: "https://media.giphy.com/media/v1.Y2lkPWVjZjA1ZTQ3N3B1a2RiaDN3eTBrdDZ2eWtuMWFlNXJpdXpvbm8yOHVsdXhjM2s1bSZlcD12MV9naWZzX3NlYXJjaCZjdD1n/gYEasZbwnHbDa/giphy.gif",
          text: "St≈ôeda, jsme v p≈Ølce pracovn√≠ho t√Ωdne! Douf√°m, ≈æe ti tohle virtu√°ln√≠ ok√©nko zvedne n√°ladu. Mysl√≠m na tebe po≈ô√°d! üíñ",
        },
        {
          day: 4,
          type: "text",
          text: "V√≠kend u≈æ je skoro na dohled. Dneska ≈æ√°dn√Ω obr√°zek, ale pusa a p≈ôipom√≠nka, ≈æe jsi pro mƒõ ta nejlep≈°√≠, a≈• u≈æ jsi v ƒåesku nebo uprost≈ôed Atlantiku. ‚ù§Ô∏è",
        },
        {
          day: 5,
          type: "image",
          src: "URL_OBRAZKU",
          text: "P√°tek je tu! üéâ Pracovn√≠ t√Ωden m√°me skoro za sebou. Co si veƒçer otev≈ô√≠t v√≠no a koukat na oce√°n (nebo na seri√°l)? Miluju tƒõ a obdivuju, jak v≈°echno zvl√°d√°≈°.",
        },
        {
          day: 6,
          type: "image",
          src: "URL_OBRAZKU",
          text: "Mikul√°≈°sk√° sobota! üéÖ Douf√°m, ≈æe jsi byla hodn√° (j√° v√≠m, ≈æe jsi byla nejhodnƒõj≈°√≠). Dneska je tv≈Øj den, tak si ho u≈æij p≈ôesnƒõ podle sebe. ≈Ω√°dn√Ω stres, jen pohoda.",
        },
        {
          day: 7,
          type: "image",
          src: "URL_VIDEA",
          text: "Nedƒõle. Ofici√°ln√≠ den leno≈°en√≠. Co kdybychom vyrazili nƒõkam na v√Ωlet po ostrovƒõ, nebo naopak z≈Østali cel√Ω den v posteli? Volba je na tobƒõ. ‚ù§Ô∏è",
        },
        {
          day: 8,
          type: "image",
          src: "URL_OBRAZKU",
          text: "Nov√© pondƒõl√≠, nov√Ω start. A≈• ti to dneska ods√Ωp√°. V√≠m, ≈æe hled√°n√≠ t√© spr√°vn√© cesty nen√≠ v≈ædycky lehk√©, ale vƒõ≈ô√≠m ti. Jsi talentovan√° a svƒõt (nebo aspo≈à Madeira) ti le≈æ√≠ u nohou.",
        },
        {
          day: 9,
          type: "text",
          text: "√öter√Ω. Jen kr√°tk√° zpr√°va pro zlep≈°en√≠ dne: Jsi kr√°sn√°, chytr√° a vtipn√°. A m√°≈° super kluka (haha). Ne, v√°≈ænƒõ, miluju tv≈Øj √∫smƒõv. üòç",
        },
        {
          day: 10,
          type: "text",
          text: 'St≈ôeda a zaƒç√°tek tv√© "Solo Madeira" mise! üõ´ J√° pr√°vƒõ m√≠≈ô√≠m do Prahy, ale mysl√≠ mi to jen na tebe. Nebuƒè smutn√°, uteƒçe to jako voda. U≈æij si, ≈æe m√°≈° cel√Ω byt (a postel!) jen pro sebe a pus≈• si ty seri√°ly, u kter√Ωch v≈ædycky brbl√°m. ‚ù§Ô∏è',
        },
        {
          day: 11,
          type: "video",
          src: "https://www.youtube.com/embed/S__rA8V5oew", // Tip: Dej sem t≈ôeba video "Cute cats waiting for owner" nebo nƒõco vtipn√©ho
          text: "ƒåtvrtek v Praze (pravdƒõpodobnƒõ mrznu). ü•∂ Douf√°m, ≈æe ty si u≈æ√≠v√°≈° ostrovn√≠ho tepla. I kdy≈æ n√°s dƒõl√≠ p√°r tis√≠c kilometr≈Ø a kus oce√°nu, d√≠ky kvantov√©mu prov√°z√°n√≠ (nebo prostƒõ l√°sce) jsem tam s tebou. Dej si za mƒõ Pastel de Nata! üòò",
        },
        {
          day: 12,
          type: "image",
          src: "URL_TVOJE_FOTKY", // Sem dej ide√°lnƒõ fotku v√°s dvou
          text: "P√°tek! Posledn√≠ veƒçer o samotƒõ. Jsi stateƒçn√° a √∫≈æasn√°, ≈æe to tam zvl√°d√°≈°. Dneska to chce klidn√Ω re≈æim, skleniƒçku v√≠na a brzy sp√°t, proto≈æe z√≠tra... z√≠tra u≈æ se vrac√≠m! Nem≈Ø≈æu se doƒçkat.",
        },
        {
          day: 13,
          type: "text",
          text: "Sobota = N√°vrat dom≈Ø! ‚úàÔ∏è Jestli bude v√≠tr na leti≈°ti spolupracovat a pilot to tref√≠, odpoledne jsem u tebe. P≈ôiprav se na velk√© obj√≠m√°n√≠. U≈æ mi to na≈°e ostrovn√≠ hn√≠zdeƒçko (a hlavnƒõ ty) chybƒõlo. Miluju tƒõ! ‚ù§Ô∏è",
        },
        {
          day: 13,
          type: "text",
          text: "Sobota. Ide√°ln√≠ ƒças na to, vƒõnovat se tomu, co tƒõ bav√≠. T≈ôeba keramice, restaurov√°n√≠ nebo jen kouk√°n√≠ na videa se zv√≠≈ô√°tky. Jsem r√°d, ≈æe tu jsme spolu.",
        },
        {
          day: 14,
          type: "image",
          src: "URL_OBRAZKU",
          text: "Nedƒõle. Druh√° adventn√≠ (skoro t≈ôet√≠) za n√°mi? Let√≠ to. Dneska jen relax, ƒçaj, kn√≠≈æka nebo proch√°zka. Hlavnƒõ ≈æ√°dn√Ω stres. ‚ù§Ô∏è",
        },
        {
          day: 15,
          type: "video",
          src: "URL_VIDEA",
          text: "Pondƒõl√≠. P≈Ølka prosince je pryƒç! A≈• ti dne≈°n√≠ den uteƒçe jako voda. Veƒçer tƒõ budu ƒçekat a m≈Ø≈æeme probrat v≈°echno mo≈æn√© i nemo≈æn√©.",
        },
        {
          day: 16,
          type: "image",
          src: "URL_OBRAZKU",
          text: "√öter√Ω. Nenech se niƒç√≠m rozhodit. Jsi siln√° ≈æena (a moje hrdinka). Pos√≠l√°m ti virtu√°ln√≠ objet√≠, kter√© tƒõ bude h≈ô√°t cel√Ω den.",
        },
        {
          day: 17,
          type: "image",
          src: "URL_OBRAZKU",
          text: "St≈ôeda. U≈æ jen t√Ωden do V√°noc! C√≠t√≠≈° tu atmosf√©ru? I kdy≈æ tady na Made≈ôe je to sp√≠≈° jarn√≠ atmosf√©ra, ale s tebou jsou V√°noce kdekoliv. üéÑ",
        },
        {
          day: 18,
          type: "text",
          text: "ƒåtvrtek. Dneska ≈æ√°dn√Ω Gatsby jako loni, ale my si um√≠me udƒõlat p√°rty i ve dvou v ob√Ωv√°ku, ne? Tƒõ≈°√≠m se na veƒçer. üòç",
        },
        {
          day: 19,
          type: "image",
          src: "URL_OBRAZKU",
          text: "P√°tek! Posledn√≠ p≈ôedv√°noƒçn√≠ pracovn√≠ p√°tek. To si zaslou≈æ√≠ oslavu. Jsi skvƒõl√°, ≈æe to v≈°echno zvl√°d√°≈°. L√°sko, u≈æij si dne≈°n√≠ p≈ôekvapen√≠.",
        },
        {
          day: 20,
          type: "video",
          src: "URL_VIDEA",
          text: "Sobota. V√°noƒçn√≠ p≈ô√≠pravy fini≈°uj√≠, ale my se stresovat nebudeme, ≈æe ne? Hlavn√≠ je, ≈æe jsme spolu a v teple. ‚ù§Ô∏è",
        },
        {
          day: 21,
          type: "image",
          src: "URL_OBRAZKU",
          text: "Nedƒõle. Zlat√° nedƒõle! ‚ú® ƒåas zap√°lit posledn√≠ sv√≠ƒçku (nebo si ji p≈ôedstavit). Dneska jen klid, poh√°dky a my dva. Miluju tƒõ.",
        },
        {
          day: 22,
          type: "text",
          text: "Pondƒõl√≠. U≈æ jen dva dny! V√°noƒçn√≠ n√°lada level 1000. A≈• je dne≈°n√≠ den v pr√°ci/doma co nejkrat≈°√≠.",
        },
        {
          day: 23,
          type: "image",
          src: "URL_OBRAZKU",
          text: "√öter√Ω. P≈ôedveƒçer V√°noc. V≈°echno hoƒè za hlavu, d√°rky (ty virtu√°ln√≠ i nevirtu√°ln√≠) jsou p≈ôipraven√©, cukrov√≠ (snad) m√°me. Tƒõ≈°√≠m se na z√≠t≈ôek! üòò",
        },
        {
          day: 24,
          type: "video",
          src: "URL_VIDEA", // Sem dej nƒõjak√© fakt pƒõkn√© v√°noƒçn√≠ video nebo video vzkaz od tebe
          text: "Vesel√© V√°noce, Ad√©l! üéÑ I kdy≈æ jsme daleko od domova, domov je tam, kde jsi ty. Dƒõkuju, ≈æe se mnou jde≈° do ka≈æd√©ho dobrodru≈æstv√≠. Jsi m≈Øj nejvƒõt≈°√≠ d√°rek. Miluju tƒõ a≈æ za hranice vesm√≠ru (a zp√°tky na Madeiru). ‚ù§Ô∏è",
        },
      ];

      const calendarContainer = document.getElementById("calendar");
      const modal = document.getElementById("modal");
      const modalBody = document.getElementById("modal-body");

      const today = new Date();
      const currentMonth = today.getMonth();
      const currentDay = today.getDate();

      // DEBUG M√ìD (true = v≈°e otev≈ôeno)
      const debugMode = true;

      // 1. Vygenerujeme pole ƒç√≠sel 1-24
      let daysArray = Array.from({ length: 24 }, (_, i) => i + 1);

      // 2. Zam√≠ch√°me je (Shuffle)
      // Pou≈æ√≠v√°me seed? Ne, prostƒõ random shuffle p≈ôi ka≈æd√©m naƒçten√≠.
      daysArray.sort(() => Math.random() - 0.5);

      // 3. Vykreslen√≠ gridu
      daysArray.forEach((dayNum) => {
        const item = adventData.find((d) => d.day === dayNum) || {
          day: dayNum,
          type: "text",
          text: "Obsah se p≈ôipravuje...",
        };

        const dayEl = document.createElement("div");
        dayEl.classList.add("day-box");
        dayEl.innerText = dayNum;

        // Logika stav≈Ø
        const isDecember = currentMonth === 11;
        const isUnlocked = debugMode || (isDecember && dayNum <= currentDay);
        const isToday = isDecember && dayNum === currentDay;

        // Zkontrolujeme, zda u≈æ bylo otev≈ôeno (localStorage)
        const isOpenedStorage = localStorage.getItem(`day-${dayNum}`);

        if (!isUnlocked) {
          dayEl.classList.add("locked");
          dayEl.onclick = () =>
            alert(`Je≈°tƒõ ne! Mus√≠≈° vydr≈æet do ${dayNum}. prosince ‚è≥`);
        } else {
          dayEl.onclick = () => openDay(item, dayEl);

          if (isOpenedStorage) {
            dayEl.classList.add("opened");
          } else if (isToday) {
            dayEl.classList.add("today-active"); // Zv√Ωrazn√≠me dne≈°n√≠ neotev≈ôen√©
          }
        }

        calendarContainer.appendChild(dayEl);
      });

      function openDay(item, element) {
        let contentHtml = "";

        if (item.type === "image") {
          contentHtml = `<img src="${item.src}" class="modal-img" alt="Den ${item.day}">`;
        } else if (item.type === "video") {
          contentHtml = `<div class="video-wrapper"><iframe src="${item.src}" frameborder="0" allowfullscreen></iframe></div>`;
        }

        contentHtml += `<p>${item.text}</p>`;

        modalBody.innerHTML = contentHtml;
        modal.style.display = "flex";

        // Ulo≈æ√≠me do LS
        localStorage.setItem(`day-${item.day}`, "true");

        // UI update
        element.classList.remove("today-active");
        element.classList.add("opened");
      }

      function closeModal() {
        modal.style.display = "none";
        modalBody.innerHTML = "";
      }

      window.onclick = function (event) {
        if (event.target == modal) closeModal();
      };
    </script>
  </body>
</html>
